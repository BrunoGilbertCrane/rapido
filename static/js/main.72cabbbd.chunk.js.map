{"version":3,"sources":["utils.js","ComplementaryContext.js","Operation.jsx","OperationList.jsx","Bravo.jsx","Complementary.js","App.js","index.js"],"names":["creeOperations","table","ops","i","j","push","op1","op2","key","operation","a","length","Math","floor","random","shuffle","slice","ComplementaryContext","createContext","ComplementaryProvider","children","useState","showResult","setShowResult","Provider","value","Operation","props","result","setResult","color","setColor","valid","setValid","useContext","useEffect","Grid","container","spacing","style","padding","item","Typography","variant","gutterBottom","TextField","onBlur","total","isValid","parseInt","notifyResult","id","onChange","event","target","onFocus","select","size","width","OperationList","GridList","cols","cellHeight","operations","map","op","GridListTile","Bravo","Bounce","tables","operationsResults","Map","Complementary","setTable","setOperations","msgResult","setMsgResult","showResultError","setShowResultError","classes","makeStyles","theme","root","flexGrow","minWidth","paper","textAlign","palette","text","secondary","useStyles","handleInit","clear","Alert","elevation","closeResultError","Container","className","zIndex","Snackbar","open","autoHideDuration","onClose","severity","Paper","Select","MenuItem","filter","t","set","trunc","Array","from","values","r","wrap","Button","onClick","App","prefersDarkMode","useMediaQuery","React","useMemo","createMuiTheme","type","ThemeProvider","CssBaseline","styled","div","keyframes","bounceInDown","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72cabbbd.chunk.js","sourcesContent":["/**\r\n * Shuffles array in place. ES6 version\r\n * @param {Array} a items An array containing the items.\r\n */\r\nexport const shuffle = (a) => {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\n\r\n/**\r\n * Create operation list.\r\n *\r\n * @param table\r\n * @returns {*[]}\r\n */\r\nexport const creeOperations = (table) => {\r\n    let ops = [];\r\n    for (let i = 0; i <= table; i++) {\r\n        for (let j = 0; j <= table; j++) {\r\n            if (i + j <= table) {\r\n                ops.push({\r\n                    op1: i,\r\n                    op2: j,\r\n                    key: `${i}+${j}`,\r\n                    operation: \"+\"\r\n                })\r\n            }\r\n        }\r\n        for (let j = 0; j <= i; j++) {\r\n            ops.push({\r\n                op1: i,\r\n                op2: j,\r\n                key: `${i}-${j}`,\r\n                operation: \"-\"\r\n            })\r\n        }\r\n    }\r\n    return shuffle(ops).slice(0, 20);\r\n}","import {createContext, useState} from \"react\";\r\n\r\nconst ComplementaryContext = createContext(null);\r\n\r\nconst ComplementaryProvider = ({ children }) => {\r\n    const [showResult, setShowResult] = useState(false);\r\n\r\n    return (\r\n        <ComplementaryContext.Provider value={{showResult, setShowResult}} >\r\n            {children}\r\n        </ComplementaryContext.Provider>\r\n    )\r\n};\r\n\r\nexport { ComplementaryContext, ComplementaryProvider }","import PropTypes from 'prop-types';\r\nimport {Grid, TextField, Typography} from \"@material-ui/core\";\r\nimport React, {useContext, useEffect, useState} from \"react\";\r\nimport {ComplementaryContext} from \"./ComplementaryContext\";\r\n\r\n\r\nconst Operation = (props) => {\r\n    const [result, setResult] = useState(\"\");\r\n    const [color, setColor] = useState(\"textPrimary\");\r\n    const [valid, setValid] = useState(true);\r\n\r\n    const {showResult} = useContext(ComplementaryContext);\r\n\r\n    const handleChange = (event) => {\r\n        setResult(event.target.value)\r\n    }\r\n\r\n    const handleFocus = (event) => {\r\n        event.target.select()\r\n    }\r\n\r\n    const verify = () => {\r\n        let total;\r\n        if (result === \"\") {\r\n            setColor(\"textPrimary\");\r\n            return\r\n        }\r\n        switch (props.operation) {\r\n            case \"+\":\r\n                total = props.op1 + props.op2;\r\n                break;\r\n            case \"-\":\r\n                total = props.op1 - props.op2;\r\n                break;\r\n            default:\r\n        }\r\n        let isValid = total === parseInt(result);\r\n        setValid(isValid)\r\n        props.notifyResult(props.id, isValid)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (showResult) {\r\n            setColor(valid ? 'textPrimary' : 'error')\r\n        }\r\n    }, [showResult, valid])\r\n\r\n    return (\r\n        <>\r\n            <Grid container spacing={1} style={{ padding: 1 }}>\r\n                <Grid item>\r\n                    <Typography variant={\"h3\"} color={color} gutterBottom={true}>\r\n                        {props.op1} {props.operation} {props.op2} {'='}\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                        variant={\"outlined\"}\r\n                        value={result}\r\n                        onBlur={verify}\r\n                        onChange={handleChange}\r\n                        onFocus={handleFocus} size={\"medium\"} style={{ width: 50 }}/>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nOperation.propTypes = {\r\n    id: PropTypes.string,\r\n    op1: PropTypes.number,\r\n    op2: PropTypes.number,\r\n    operation: PropTypes.oneOf(['+', '-']),\r\n    notifyResult: PropTypes.func\r\n}\r\n\r\nexport default Operation;","import {GridList, GridListTile} from \"@material-ui/core\";\r\nimport Operation from \"./Operation\";\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const OperationList = (props) => {\r\n    return (\r\n        <GridList cols={0} spacing={35} cellHeight={90}>\r\n            {props.operations.map(op => (\r\n                <GridListTile key={op.key} >\r\n                    <Operation id={op.key}\r\n                               op1={op.op1}\r\n                               op2={op.op2}\r\n                               operation={op.operation}\r\n                               notifyResult={props.notifyResult} />\r\n                </GridListTile>\r\n            ))}\r\n        </GridList>\r\n    )\r\n}\r\n\r\nOperationList.propTypes = {\r\n    operations: PropTypes.array,\r\n    notifyResult: PropTypes.func,\r\n}","import {Bounce} from \"./index\";\r\n\r\nexport const Bravo = ({ children }) => {\r\n    return (\r\n        <Bounce>{children}</Bounce>\r\n    )\r\n}","import {Button, Container, Grid, makeStyles, MenuItem, Paper, Select, Snackbar, Typography} from \"@material-ui/core\";\nimport React, {useContext, useEffect, useState} from 'react';\nimport {creeOperations} from \"./utils\";\nimport {OperationList} from \"./OperationList\";\nimport {ComplementaryContext} from \"./ComplementaryContext\";\nimport MuiAlert from '@material-ui/lab/Alert';\nimport {Bravo} from \"./Bravo\";\n\nconst tables = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\n\nconst operationsResults = new Map();\n\nconst Complementary = () => {\n    const [table, setTable] = useState('');\n    const [operations, setOperations] = useState([]);\n    const [result, setResult] = useState(0);\n    const [msgResult, setMsgResult] = useState('');\n    const [showResultError, setShowResultError] = useState(false);\n\n    const {showResult, setShowResult} = useContext(ComplementaryContext);\n\n    const useStyles = makeStyles((theme) => ({\n        root: {\n            flexGrow: 1,\n            minWidth: 450\n        },\n        paper: {\n            padding: theme.spacing(2),\n            textAlign: 'center',\n            color: theme.palette.text.secondary,\n        },\n    }));\n\n    const classes = useStyles();\n\n    const handleChangeComplementary = (event) => {\n        setTable(event.target.value);\n    }\n\n    const handleInit = () => {\n        setTable('');\n        setOperations([]);\n        setShowResult(false);\n        operationsResults.clear()\n    }\n\n    const handleShowResult = () => {\n        if (operations.length === operationsResults.size) {\n            setShowResult(true)\n        } else {\n            setShowResultError(true)\n        }\n    }\n\n    const updateOperationsResults = (key, result) => {\n        operationsResults.set(key, result);\n        setResult(Math.trunc(Array.from(operationsResults.values()).filter(r => r).length / operations.length * 100));\n    }\n\n    const Alert = (props) => {\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n    }\n\n    const closeResultError = () => {\n        setShowResultError(false)\n    }\n\n    useEffect(() => {\n        if (table === '') {\n            handleInit();\n        } else {\n            setOperations(creeOperations(table))\n        }\n    }, [table])\n\n    useEffect(() => {\n        if (result === 100) {\n            setMsgResult('Bravo !!!');\n        } else if (result < 90) {\n            setMsgResult('Essaye encore !');\n        } else if (result >= 90) {\n            setMsgResult('Bravo ! - Essaye encore !');\n        }\n    }, [result])\n\n    return (\n        <Container className={classes.root}>\n            {\n                showResult &&\n                <Bravo style={{zIndex: '100'}}>\n                    <Typography variant={\"h4\"} color={\"error\"}>\n                        Voici ton résultat {result}%\n                    </Typography>\n                    <Typography variant={\"h4\"} color={\"error\"}>\n                        {msgResult}\n                    </Typography>\n                </Bravo>\n            }\n            <Snackbar open={showResultError} autoHideDuration={6000} onClose={closeResultError}>\n                <Alert onClose={closeResultError} severity=\"error\">\n                    Il faut donner toutes les réponses\n                </Alert>\n            </Snackbar>\n\n            <Paper className={classes.paper}>\n                <Grid container spacing={3}>\n                    <Grid item>\n                        <Typography variant={\"h4\"}>Complémentaires</Typography>\n                    </Grid>\n                    <Grid item>\n                        <Typography variant={\"h4\"}>entre 0 et </Typography>\n                    </Grid>\n                    <Grid item>\n                        <Select onChange={handleChangeComplementary} value={table}>\n                            <MenuItem>\n                                <Typography variant={\"h5\"}/>\n                            </MenuItem>\n                            {tables.filter(t => t >= 0).map(table =>\n                                <MenuItem key={table} value={table}>\n                                    <Typography variant={\"h5\"}>{table}</Typography>\n                                </MenuItem>\n                            )}\n                        </Select>\n                    </Grid>\n                </Grid>\n            </Paper>\n            {\n                operations.length > 0 &&\n                <Paper className={classes.paper}>\n                    <OperationList operations={operations} notifyResult={updateOperationsResults}/>\n                </Paper>\n            }\n            {\n                operations.length > 0 &&\n                <Paper style={{padding: 10}}>\n                    <Grid container wrap=\"nowrap\" spacing={5}>\n                        <Grid item>\n                            <Button variant=\"outlined\" onClick={handleShowResult}>\n                                résultat\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Button variant=\"outlined\" onClick={handleInit}>\n                                recommencer\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            }\n        </Container>\n    );\n}\n\nexport default Complementary;\n","import React from 'react';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nexport const App = ({ children }) => {\r\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n\r\n    const theme = React.useMemo(\r\n        () =>\r\n            createMuiTheme({\r\n                palette: {\r\n                    type: prefersDarkMode ? 'dark' : 'light',\r\n                },\r\n            }),\r\n        [prefersDarkMode],\r\n    );\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <CssBaseline/>\r\n            {children}\r\n        </ThemeProvider>\r\n    );\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Complementary from './Complementary';\nimport {ComplementaryProvider} from \"./ComplementaryContext\";\nimport {bounceInDown} from \"react-animations\";\nimport styled, {keyframes} from \"styled-components\";\nimport {App} from \"./App\";\n\nexport const Bounce = styled.div`animation: 5s ${keyframes`${bounceInDown}`} infinite`;\n\nReactDOM.render(\n    <React.StrictMode>\n        <App>\n            <ComplementaryProvider>\n                <Complementary/>\n            </ComplementaryProvider>\n        </App>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}